---
title: C++ 学习笔记
date: 2024-03-23 13:23:06 +0800
categories: [Lang, C++]
tags: [C++]
author: kuromesi
---

## 智能指针

> [https://zhuanlan.zhihu.com/p/526147194](https://zhuanlan.zhihu.com/p/526147194)

## 左值引用和右值引用

什么是左值引用呢？
左值引用，就是绑定到左值的引用，通过&来获得左值引用。
那么，什么是左值呢？
左值，就是在内存有确定存储地址、有变量名，表达式结束依然存在的值。

```c++
int a=10;              //非常量左值（有确定存储地址，也有变量名）
const int a1=10;       //常量左值（有确定存储地址，也有变量名）
const int a2=20;       //常量左值（有确定存储地址，也有变量名）
 
//非常量左值引用
int &b1=a;            //正确，a是一个非常量左值，可以被非常量左值引用绑定
int &b2=a1;           //错误,a1是一个常量左值，不可以被非常量左值引用绑定
int &b3=10;           //错误，10是一个非常量右值，不可以被非常量左值引用绑定
int &b4=a1+a2;        //错误,（a1+a2）是一个常量右值，不可以被非常量左值引用绑定

//常量左值引用
const int &c1=a;      //正确，a是一个非常量左值，可以被非常量右值引用绑定
const int &c2=a1;     //正确,a1是一个常量左值，可以被非常量右值引用绑定
const int &c3=a+a1;   //正确，（a+a1）是一个非常量右值，可以被常量右值引用绑定
const int &c4=a1+a2;  //正确,（a1+a2）是一个常量右值，可以被非常量右值引用绑定
```

可以归纳为：**非常量左值引用只能绑定到非常量左值上；常量左值引用可以绑定到非常量左值、常量左值、非常量右值、常量右值等所有的值类型。**

顾名思义，什么是右值引用呢？右值引用，就是绑定到右值的引用，通过&&来获得右值引用。那么，什么又是右值呢？右值，就是在内存没有确定存储地址、没有变量名，表达式结束就会销毁的值。

```c++
int a=10;             //非常量左值（有确定存储地址，也有变量名）
const int a1=20;      //常量左值（有确定存储地址，也有变量名）
const int a2=20;      //常量左值（有确定存储地址，也有变量名）

//非常量右值引用
int &&b1=a;            //错误，a是一个非常量左值，不可以被非常量右值引用绑定
int &&b2=a1;           //错误,a1是一个常量左值，不可以被非常量右值引用绑定
int &&b3=10;           //正确，10是一个非常量右值，可以被非常量右值引用绑定
int &&b4=a1+a2;        //错误,（a1+a2）是一个常量右值，不可以被非常量右值引用绑定

//常量右值引用
const int &&c1=a;      //错误，a是一个非常量左值，不可以被常量右值引用绑定
const int &&c2=a1;     //错误,a1是一个常量左值，不可以被常量右值引用绑定
const int &&c3=a+a1;   //正确，（a+a1）是一个非常量右值，可以被常量右值引用绑定
const int &&c4=a1+a2;  //正确,（a1+a2）是一个常量右值，不可以被常量右值引用绑定
```

可以将右值引用归纳为：**非常量右值引用只能绑定到非常量右值上；常量右值引用可以绑定到非常量右值、常量右值上。**

> [https://www.cnblogs.com/david-china/p/17080072.html](https://www.cnblogs.com/david-china/p/17080072.html)
>
> [https://blog.csdn.net/weixin_49199646/article/details/109861756](https://blog.csdn.net/weixin_49199646/article/details/109861756)
>
> [https://blog.csdn.net/china_jeffery/article/details/78520237](https://blog.csdn.net/china_jeffery/article/details/78520237)

## 宏

> [https://www.jianshu.com/p/eb470dbd786d](https://www.jianshu.com/p/eb470dbd786d)
>
> [https://blog.csdn.net/aflyeaglenku/article/details/81504256](https://blog.csdn.net/aflyeaglenku/article/details/81504256) 
>
> [https://www.cnblogs.com/icmzn/p/10147237.html](https://www.cnblogs.com/icmzn/p/10147237.html)